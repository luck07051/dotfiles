#!/bin/sh

if [ -x "$(which systemctl)" ]; then
list="$(cat <<EOF
lock;       slock
shut down;  systemctl poweroff
reboot;     systemctl reboot
log out;    loginctl terminate-session ${XDG_SESSION_ID-}
suspend;    systemctl suspend
hibernate;  systemctl hibernate
EOF
)"
elif [ -x "$(which sv)" ]; then
list="$(cat <<EOF
shut down;  doas poweroff
reboot;     doas reboot
log out;    loginctl terminate-session ${XDG_SESSION_ID-}
EOF
)"
fi

option=$(echo "$list" | cut -d';' -f1 | dmenu -i -p "POWER")

# [ -n "$option" ] &&
# [ "$(printf "No\nYes" | dmenu -i -p "Do you want to $option?")" = "Yes" ] &&
#   eval "$(echo "$list" | grep "$option" | sed 's/.*;\ \+//')"

[ -n "$option" ] &&
	eval "$(echo "$list" | grep "$option;" | sed 's/.*;\s\+//')"
