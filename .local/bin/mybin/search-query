#!/bin/sh

searchengine_file="$HOME/bm/searchengine"

if [ -z "$1" ]; then
	grep -v -e '^\s*#' -e '^$' "$searchengine_file"
	exit
fi

input="$1"

engine="$(grep -w "^${input%% *}" "$searchengine_file")"

if [ -n "$engine" ]; then
	echo "$engine" | cut -f2 | sed "s/{}/${input#* }/"
else
	grep "^DEFAULT\s" "$searchengine_file" | cut -f2 | sed "s/{}/$input"/
fi
