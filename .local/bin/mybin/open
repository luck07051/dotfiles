#!/bin/sh

swallower='swallower'

case $(file --mime-type "$1" -bL) in

	video/* | audio/*)
		$swallower mpv "$@"
		;;

	image/*)
		$swallower nsxiv "$@"
		;;

	application/pdf | application/postscript)
		$swallower zathura "$@"
		;;

	application/msword |\
	application/vnd.ms-powerpoint |\
	application/vnd.openxmlformats-officedocument.presentationml.presentation)
		$swallower libreoffice "$@"
		;;

	text/*)
		nvim "$@"
		;;

	*)
		echo "File type '$(file --mime-type "$1" -bL)' not support!" >&2
		exit 1
		;;
esac
