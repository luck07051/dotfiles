#!/bin/sh

# set wacom area
if [$(xinput list | grep 'Wacom')]; then
  xsetwacom set "Wacom One by Wacom S Pen stylus" Area 15200 9500 0 4275
fi

# Remap caps lock to Ctrl
setxkbmap -option ctrl:nocaps

# Set screen to 144 rate
xrandr --output HDMI-0 --mode 1920x1080 --rate 144.00

# No screen saver
xset s off
xset -dpms

# Startup app
pgrep "$BROWSER" > /dev/null || $BROWSER &

while true; do
  xrdb -merge $XDG_CONFIG_HOME/X11/xresources

  # Start regular thing
  pgrep "nitrogen" > /dev/null || nitrogen --restore &
  pgrep "sxhkd" > /dev/null || sxhkd &
  killall picom > /dev/null 2>&1; picom --experimental-backend &

  case $WM in
    bspwm)
      bspwm ;;
    leftwm)
      dbus-launch leftwm ;;
    dwm)
      killall dwmbar > /dev/null 2>&1; dwmbar &
      dwm ;;
  esac
done
