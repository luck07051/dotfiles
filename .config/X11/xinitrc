#!/bin/sh

 # set wacom area
 if xinput list | grep 'Wacom'; then
   xsetwacom set "Wacom One by Wacom S Pen stylus" Area 15200 9500 10132 6332
 fi

# Remap caps lock to Ctrl
setxkbmap -option ctrl:nocaps

# Set screen to 144 rate
xrandr --output HDMI-0 --mode 1920x1080 --rate 144.00

# No screen saver
xset s off
xset -dpms

# Startup app
pgrep "$BROWSER" > /dev/null || $BROWSER &
syncthing serve --no-browser &

while true; do
  xrdb -merge "$XDG_CONFIG_HOME"/X11/xresources
  setwallpaper &

  # pidof -q sxhkd || sxhkd &
  pidof -q dunst || dunst &
  pidof -q unclutter || unclutter &
  pidof -q fcitx5 || fcitx5 -d &

  # killall picom >/dev/null 2>&1; picom &

  # for `sb-vol`, because my status bar not able to show vol at startup
  (sleep 2s && kill -36 "$(pidof dwm)") &

  dwm

done
