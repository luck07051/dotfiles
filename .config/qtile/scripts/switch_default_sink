#!/usr/bin/env bash

main() {

    declare -A sink
    sink=$(pactl list sinks short |\
        awk '{print $2;}' |\
        awk -v de="$(pactl get-default-sink)" \
            '$1 == de {getline tmp; print tmp}')

    if [ -z $sink ]
    then
        pactl set-default-sink \
            $(pactl list sinks short | head -n 1 | awk '{print $2}')
    else
        pactl set-default-sink $sink
    fi

    set -e
}

main $1 &

exit 0

!/bin/bash
